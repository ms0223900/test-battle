(this["webpackJsonptest-battle"]=this["webpackJsonptest-battle"]||[]).push([[0],{100:function(t,e,n){},101:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"countUIText",(function(){return Ie})),n.d(a,"actionUpGroupObjs",(function(){return Te})),n.d(a,"testButton",(function(){return Ee})),n.d(a,"userCharacter",(function(){return Be})),n.d(a,"moneyBag",(function(){return Ne})),n.d(a,"moneys",(function(){return De})),n.d(a,"countNum",(function(){return _e})),n.d(a,"upCoin",(function(){return Le})),n.d(a,"Coin",(function(){return Je})),n.d(a,"backTest",(function(){return Fe})),n.d(a,"alert",(function(){return Qe})),n.d(a,"OKIcon",(function(){return Ue})),n.d(a,"cancelIcon",(function(){return Me})),n.d(a,"alertBack",(function(){return Pe})),n.d(a,"testPicBack",(function(){return Re})),n.d(a,"ShoppingList",(function(){return Ye})),n.d(a,"alertPurchase",(function(){return He})),n.d(a,"moneyUIwithText",(function(){return Xe})),n.d(a,"alertUI",(function(){return qe})),n.d(a,"testMAP",(function(){return Ge})),n.d(a,"testGroupMap",(function(){return We}));var i,r,o=n(0),s=n.n(o),c=n(39),l=n.n(c),u=n(3),h=n(4),d=n(5),p=n(6),g=n(7),f=n(9),m=n(33),v=n(30),y=n(36),b=n(61),O=n(24),j=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=[],i=0,r=n>=e?e:n,o=Math.abs(n-e)+1,s=t>o?o:t;i<s;)for(var c=r+~~(Math.random()*o);-1===a.indexOf(c);)a=[].concat(Object(u.a)(a),[c]),i+=1;return a},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=1*e,r=t.length,o=t.filter((function(t){return t.id===i}))[0],s=t.map((function(t){return t.id})),c=s.indexOf(i),l=Object(f.a)({},o,Object(O.a)({},n,a));return 0===c?[l].concat(Object(u.a)(t.slice(1,r))):c===r?[].concat(Object(u.a)(t.slice(0,r-1)),[l]):[].concat(Object(u.a)(t.slice(0,c)),[l],Object(u.a)(t.slice(c+1,r)))},A=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.filter((function(t){return t.star})),r=function(t){return t>1?t:1},o=[],s=j(e,0,t?r(i.length)-1:r(n.length)-1);if(a){var c,l=Object(b.a)(s);try{for(l.s();!(c=l.n()).done;){var h=c.value;o=[].concat(Object(u.a)(o),t?[i[h]]:[n[h]])}}catch(d){l.e(d)}finally{l.f()}}else o=t?i.slice(0,e):n.slice(0,e);return"undefined"===typeof o[0]?[]:o},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={backgroundColor:"#111",color:"#fff"},a={backgroundColor:"#ddd",color:"#111"};return t===e?n:a},x=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=[],i=function(i){var r=e.filter((function(e){return e[n]===t[i][n]}))[0];"object"===typeof r&&(a=[].concat(Object(u.a)(a),[r[n]]))},r=0;r<t.length;r++)i(r);return a},C=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],r=0;r<t.length;r++)(a?-1===e.indexOf(t[r][n]):-1!==e.indexOf(t[r][n]))&&(i=[].concat(Object(u.a)(i),[t[r]]));return i},k=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&(e=[].concat(Object(u.a)(e),[t[n]]));return e},I=function(t){var e=t.slice(t.length-1);if(-1!==e.search(/[1|2|3|4]$/gi,""))return t.slice(0,t.length-1)+["A","B","C","D"][["1","2","3","4"].indexOf(e)]},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=~~(t/60),n=t%60,a=function(t){return t<10?"0"+t:t.toString()};return[a(e),a(n)]},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,r=(a-i*e)/(2*e),o=t%e*(a/e)+r,s=~~(t/e)*n;return{x:o,y:s}},B=["A","B","C","D","E","F"],N=function(t){var e={id:t,star:!1,noteContext:""};localStorage.getItem("starAndNote")||localStorage.setItem("starAndNote",JSON.stringify([]));var n=JSON.parse(localStorage.getItem("starAndNote")),a=n.filter((function(e){return e.id===t}))[0];return a||(localStorage.setItem("starAndNote",JSON.stringify([].concat(Object(u.a)(n),[e]))),e)},D=function(t,e,n){var a=JSON.parse(localStorage.getItem("starAndNote"));localStorage.setItem("starAndNote",JSON.stringify(w(a,t,e,n)))},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"I am hint!",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(i){Object(g.a)(o,i);var r=Object(p.a)(o);function o(t){return Object(h.a)(this,o),r.call(this,t)}return Object(d.a)(o,[{key:"render",value:function(){var i=this.props.isActive,r=void 0!==i&&i;return s.a.createElement("div",{className:"component-withHint ".concat(n)},s.a.createElement(t,this.props),s.a.createElement("div",{className:"hint-dialog"},r?a:e))}}]),o}(s.a.Component)},L=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t))._handleOpenNote=function(){a.setState({isNoteOpen:!a.state.isNoteOpen})},a.state={isNoteOpen:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.changeAnswer,a=t.myAnswer,i=t.question,r=t.options,c=t.isHandIn,l=t.isCheckCorrectAns;return s.a.createElement(o.Fragment,null,s.a.createElement(P,{id:e,isHandIn:c,openNote:this._handleOpenNote}),s.a.createElement(J,{changeAnswer:n,myAnswer:a,id:e,question:i,options:r,isHandIn:c,isNoteOpen:this.state.isNoteOpen,isCheckCorrectAns:l,openNote:this._handleOpenNote}))}}]),n}(s.a.Component),J=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).componentWillMount=function(){var t=a.props.id;a.setState({noteContext:N(t).noteContext})},a.componentDidMount=function(){a.questionNote.focus()},a._handleEditNote=function(t){var e=t.target.value,n=a.props.id;N(n);a.setState({noteContext:e}),D(n,"noteContext",e)},a._handleOptionTitle=function(t){var e=t.target.getAttribute("answer");a.setState({yourAnswer:e}),a.props.changeAnswer(t)},a.state={yourAnswer:"",noteContext:""},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.myAnswer,a=void 0===n?[]:n,i=e.id,r=void 0===i?1:i,c=e.question,l=void 0===c?"":c,u=e.options,h=void 0===u?[]:u,d=e.isHandIn,p=void 0!==d&&d,g=e.isNoteOpen,f=void 0!==g&&g,m=e.isCheckCorrectAns,v=void 0!==m&&m,y=e.openNote,b=void 0===y?function(){}:y,O=this.state.noteContext,j=a.filter((function(t){return t.id===r}))[0],w=function(t){for(var e=[],n=["A","B","C","D","E"],a=0;a<t.length;a++)e[a]={id:n[a],options:t[a]};return e}(h);return s.a.createElement(o.Fragment,null,s.a.createElement("div",{className:"question-container"},s.a.createElement("div",{className:"answer-part"},s.a.createElement("span",{className:j.answer?"answer-active":"answer-default"},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.indexOf(t);return B[n]}(j.answer,h)||"your answer"),s.a.createElement("span",{className:"corrected-answer"},v?function(){var t=h.indexOf(j.correctAnswer);return B[t]}():"")),s.a.createElement("div",{className:"question-part"},s.a.createElement("form",{onChange:this._handleOptionTitle,id:r,onSubmit:function(t){return t.preventDefault()}},"notYet"!==j.checked?j.checked?s.a.createElement("span",{className:"checked-text correct-text"},"\u2714"):s.a.createElement("span",{className:"checked-text false-text"},"\u2718"):"",s.a.createElement("p",{className:"question"},l),w.map((function(t){return s.a.createElement("label",{className:"options",key:t.id},s.a.createElement("input",{type:"radio",name:r,value:t.options,answer:t.id,disabled:p}),s.a.createElement("span",{style:{color:"blue"}},t.id)," "+t.options)}))))),s.a.createElement("hr",null),s.a.createElement("div",{className:"question-note",style:{display:f?"block":"none"}},s.a.createElement("textarea",{onChange:this._handleEditNote,value:O,placeholder:"Take your note here.",ref:function(e){return t.questionNote=e}}),s.a.createElement("button",{onClick:b},"confirm")))}}]),n}(s.a.Component),F=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.id,n=void 0===e?0:e,a=t.star,i=void 0!==a&&a,r=t.starFn,o=void 0===r?function(){}:r;return s.a.createElement("span",{onClick:o,name:n,className:i?"starBTN active":"starBTN"},s.a.createElement(v.a,{icon:"star"}))}}]),n}(s.a.Component),Q=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={isEditNote:!1,note:""},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.id,n=void 0===e?0:e,a=t.noteContext,i=void 0===a?"":a,r=t.noteFn,c=void 0===r?function(){}:r,l=t.isHandIn,u=t.openNote,h=this.state.isEditNote;return s.a.createElement(o.Fragment,null,s.a.createElement("span",{className:"noteBTN"},s.a.createElement(v.a,{onClick:l?u:function(){window.alert("\u4ea4\u5377\u5f8c\u624d\u80fd\u8a18\u7b46\u8a18~")},name:n,icon:"edit"})),s.a.createElement("div",{className:"noteBTN-container",style:{display:h?"block":"none",width:400}},s.a.createElement("textarea",{name:n,className:"note-noteBTN",onChange:c,value:i}),s.a.createElement("button",{onClick:u},"confirm")))}}]),n}(s.a.Component),U=_(F,"\u6536\u85cf\u984c\u76ee","\u5df2\u6536\u85cf"),M=_(Q,"\u7d00\u9304\u7b46\u8a18"),P=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).setDataFromLS=function(){var t=a.props.id,e=N(t);a.setState({id:e.id,star:e.star,noteContext:e.noteContext})},a.componentWillMount=function(){a.setDataFromLS()},a.componentDidUpdate=function(t,e){t.id!==a.state.id&&a.setDataFromLS()},a._handleStar=function(){var t=a.state,e=t.id,n=t.star;a.setState({star:!a.state.star}),D(e,"star",!n)},a.state={id:0,star:!1,noteContext:""},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state,e=t.id,n=t.star,a=t.noteContext,i=this.props,r=i.isHandIn,o=i.openNote;return s.a.createElement("div",{className:"star-note-buttons"},s.a.createElement(U,{id:e,star:n,isActive:n,starFn:this._handleStar}),s.a.createElement(M,{id:e,noteContext:a,noteFn:this._handleEditNote,isHandIn:r,openNote:o}))}}]),n}(s.a.PureComponent),R=function(t){var e=t.obj,n=void 0===e?[]:e,a=t.clickFn,i=void 0===a?function(){}:a,r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n));return s.a.createElement("a",{href:r,onClick:i},"Update data")},Y=function(t){var e=t.myAnswer,n=void 0===e?[]:e,a=t.allQA,i=void 0===a?[]:a;return s.a.createElement("div",null,s.a.createElement("h3",null,"Your Score:"),~~(n.filter((function(t){return!0===t.checked})).length/i.length*100))},H=function(t){return t.filter((function(t){return""!==t.answer})).length},X=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.testQA,n=void 0===e?[]:e,a=t.myAnswer,i=t.isHandIn,r=t.changeAnswer,o=t.checkAnswer,c=t.isCheckCorrectAns,l=t.checkCorrectAnswer;return s.a.createElement("div",{id:"test-paper",className:"test-paper"},s.a.createElement("h4",null,"\u5b8c\u6210\u984c\u6578:",s.a.createElement("span",null,H(a)," /",n.length),s.a.createElement("span",null,n.length>0&&n.length===H(a)?"\u6240\u6709\u984c\u76ee\u90fd\u5b8c\u6210\u4e86\uff01":"\u9084\u6709".concat(n.length-H(a),"\u984c\u672a\u5b8c\u6210"))),s.a.createElement("h4",{id:"score"},"SCORE:",s.a.createElement("span",null,i?s.a.createElement(Y,{correctAns:a,allQA:n}):"")),s.a.createElement("hr",null),n.length>0?n.map((function(t){return s.a.createElement(s.a.Fragment,{key:t.id},s.a.createElement(L,{key:t.id,id:t.id,question:t.question,options:t.options,myAnswer:a,changeAnswer:r,isHandIn:i,isCheckCorrectAns:c}))})):"\u5c1a\u7121\u984c\u76ee",s.a.createElement("button",{onClick:o},"Check Answer!"),s.a.createElement("button",{className:"secondBTN",style:{display:i?"inline-block":"none"},onClick:l},"Check Correct Answer!"))}}]),n}(s.a.PureComponent),q=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.testQA,n=void 0===e?[]:e,a=t.myAnswer,i=t.isHandIn,r=t.changeAnswer,o=t.checkAnswer,c=t.isCheckCorrectAns,l=t.singleAnswerModeState,u=n[l.index];return s.a.createElement("div",{id:"single-test-paper",className:"test-paper test-paper"},n.length>0?s.a.createElement("div",null,s.a.createElement("h4",null,"\u76ee\u524d\u984c\u6578 / \u7e3d\u984c\u6578: ",s.a.createElement("br",null),s.a.createElement("span",null,l.index+1," /",l.idArr.length)),s.a.createElement(L,{key:u.id,id:u.id,question:u.question,options:u.options,myAnswer:a,changeAnswer:r,isHandIn:i,isCheckCorrectAns:c}),s.a.createElement("div",null),i?s.a.createElement(Y,{myAnswer:a,allQA:l.idArr}):"",s.a.createElement("button",{onClick:o},"Check Answer!")):"\u5c1a\u7121\u984c\u76ee")}}]),n}(s.a.Component),G=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).setToDefault=function(){a.setState({optionDefault:"Choose"})},a.state={optionDefault:"Choose"},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props.allTestFilterConditions;return s.a.createElement("select",{value:this.state.optionDefault,onInput:this.props.changeSelect,onChange:this.setToDefault},s.a.createElement("option",{style:{display:"none"},value:"Choose"},"Choose"),t.map((function(t){return s.a.createElement("option",{key:t,value:t},t)})))}}]),n}(s.a.Component),W=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t))._handleChangeSelect=function(t){var e=a.state.selectedArr,n=t.target.value;-1===e.indexOf(n)&&a.setState((function(t){return{selectedArr:[].concat(Object(u.a)(t.selectedArr),[n])}}))},a._handleDeleteSelect=function(t){var e=t.target.getAttribute("name");console.log(e);var n=a.state.selectedArr.filter((function(t){return t!==e}));a.setState({selectedArr:n})},a.state={selectedArr:[]},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.allTestFilterConditions,n=t.nowFIlterCondition,a=t.changeSelectDatabase,i=t.deleteSelectDatabase;return s.a.createElement("div",null,s.a.createElement(G,{allTestFilterConditions:e,changeSelect:a}),n.map((function(t){return s.a.createElement("div",{className:"seleced-tag",key:t},t,s.a.createElement("span",{name:t,onClick:i}," (X) "))})))}}]),n}(s.a.Component),z="images/coin-sprite-animation.png",K=["https://static.wixstatic.com/media/7fce08_d7547c63bbb945e69d6bc5c167b39193.gif","https://www.pixelmarket.net/media/catalog/product/cache/1/image/650x650/a94eaa0e6015e0566d23f2c54dba56d0/9/a/9ab2aa59d388489c2860019b7338e4b81.PNG"],V="https://cdn4.iconfinder.com/data/icons/game-ui-pack-02/500/play-512.png",$="https://docs.scandit.com/flow/mobile-api/assets/ui_alert_ios.png",Z="https://cdn1.iconfinder.com/data/icons/color-bold-style/21/34-512.png",tt="https://cdn0.iconfinder.com/data/icons/social-messaging-ui-color-shapes/128/close-circle-red-512.png",et="https://www.san-x.co.jp/charapri/images/kabe/rirakkuma/119_1080_1920.png",nt="https://images-na.ssl-images-amazon.com/images/I/51Wpjypba1L._SX425_.jpg",at=["https://freeiconshop.com/wp-content/uploads/edd/bulb-curvy-flat.png","https://freeiconshop.com/wp-content/uploads/edd/html-flat.png","https://freeiconshop.com/wp-content/uploads/edd/car-outline-filled.png","https://freeiconshop.com/wp-content/uploads/edd/earth-outline-filled.png","https://freeiconshop.com/wp-content/uploads/edd/globe-outline-filled.png"],it=["https://image.freepik.com/free-psd/abstract-background-design_1297-84.jpg","https://image.freepik.com/free-vector/bokeh-lights-glitter-background_1048-8548.jpg","https://besthqwallpapers.com/Uploads/14-2-2019/80461/thumb2-blue-mosaic-4k-artwork-mosaic-texture-blue-background.jpg","https://cdn.pixabay.com/photo/2017/03/02/08/58/background-texture-2110724__340.jpg","https://ae01.alicdn.com/kf/HTB1DIU6NVXXXXb_XFXXq6xXFXXXU/-.jpg"],rt="https://freeiconshop.com/wp-content/uploads/edd/shopping-bag-flat.png",ot="https://freeiconshop.com/wp-content/uploads/edd/pear-flat.png",st="https://freeiconshop.com/wp-content/uploads/edd/hotdog-flat.png",ct="https://freeiconshop.com/wp-content/uploads/edd/cross-flat.png",lt="https://freeiconshop.com/wp-content/uploads/edd/list-flat.png",ut="https://freeiconshop.com/wp-content/uploads/edd/heart-curvy-flat.png",ht="https://freeiconshop.com/wp-content/uploads/edd/lightning-flat.png",dt="https://freeiconshop.com/wp-content/uploads/edd/book-flat.png",pt=[{layer:"UILayer",id:2001,objProp:"text",value:1}],gt=360,ft=640,mt={width:360,height:540},vt=[{posId:0,id:"ShopIcon_shop",imgSrc:rt},{posId:1,id:"ShopIcon_info",imgSrc:"https://freeiconshop.com/wp-content/uploads/edd/info-flat.png"},{posId:2,id:"ShopIcon_coins",imgSrc:"https://freeiconshop.com/wp-content/uploads/edd/coins-flat.png"},{posId:3,id:"ShopIcon_burger",imgSrc:"https://freeiconshop.com/wp-content/uploads/edd/burger-flat.png"},{posId:4,id:"ShopIcon_hotDog",imgSrc:st},{posId:5,id:"ShopIcon_car",imgSrc:"https://freeiconshop.com/wp-content/uploads/edd/car-flat.png"},{posId:6,id:"ShopIcon_iceCream",imgSrc:"https://freeiconshop.com/wp-content/uploads/edd/ice-cream-cone-flat.png"},{posId:7,id:"ShopIcon_cheese",imgSrc:"https://freeiconshop.com/wp-content/uploads/edd/cheese-flat.png"}],yt={backGround:{width:300,height:500,imgSrc:it[3]},iconDist:{y:80}},bt=n(23),Ot=n(67),jt=function(t){return{t:t.y,l:t.x,b:t.y+t.h,r:t.x+t.w}},wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,w:0,h:0};if(e.display&&!e.groupDisplay.includes(!1))return t.x<e.x+e.w&&t.x>e.x&&t.y<e.y+e.h&&t.y>e.y},At=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,0],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bt,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;return{id:t,cloneId:0,OBJ:new a({id:t,imgSrc:e,width:n[0],height:n[1],x:n[2],y:n[3],imgRatio:i,status:r,opacity:o})}},St=function(t){var e=t.id,n=void 0===e?"":e,a=t.spec,i=void 0===a?[0,0]:a,r=t.drawGroupClass,o=void 0===r?_t:r,s=t.groupObjs,c=void 0===s?[]:s;return{id:n,cloneId:0,OBJ:new o({id:n,x:i[0],y:i[1],groupObjs:c})}},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("undefined"===typeof e|"undefined"===typeof n)throw"Your object id or clone id is undefined.";return t.filter((function(t){return!(t.id===e&&t.cloneId===n)}))},Ct=function(t,e,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=t.targetTouches?t.targetTouches[0].clientX:t.clientX,c=t.targetTouches?t.targetTouches[0].clientY:t.clientY,l=s-e.getBoundingClientRect().left,u=c-e.getBoundingClientRect().top,h={x:l,y:u};if(n){var d=kt(n.layerObjs,a,i,o);if(d&&d.length>0&&-1!==d.map((function(t){return wt(h,t.OBJ)})).indexOf(!0))return r}return!1},kt=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"obj",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],o=0;o<e.length;o++){var s=i?e.filter((function(t){return t.id===n})):e.filter((function(t){return t.id===n&&t.cloneId===a}));if(s.length>0){r=[].concat(Object(u.a)(r),Object(u.a)(s));break}if(e[o].OBJ.groupObjs){var c=t(e[o].OBJ.groupObjs,n,a,i);c&&(r=[].concat(Object(u.a)(r),Object(u.a)(c)))}}return r},It=n(62),Tt=function(){function t(e){var n=e.id,a=e.cloneId,i=void 0===a?0:a,r=e.display,o=void 0===r||r,s=e.x,c=e.y,l=e.w,u=e.h,d=e.fillStyle,p=void 0===d?"transparent":d,g=e.strokeStyle,f=void 0===g?"transparent":g;Object(h.a)(this,t),this.id=n,this.cloneId=i,this.display=o,this.groupDisplay=[],this.x=s,this.y=c,this.translateXY={x:[],y:[]},this.w=l,this.h=u,this.fillStyle=p,this.strokeStyle=f,this.prevProps={x:this.x,y:this.y,groupDisplay:["nothing"]}}return Object(d.a)(t,[{key:"setAttr",value:function(t,e){this[t]=e}},{key:"drawOnCanvas",value:function(t){t.save(),t.fillStyle=this.fillStyle,t.fillRect(this.x,this.y,this.w,this.h),t.fill(),t.strokeStyle=this.strokeStyle,t.stroke(),t.restore()}},{key:"draw",value:function(t){this.groupDisplay.includes(!1)?this.display=!1:(this.display=!0,this.drawOnCanvas(t))}},{key:"render",value:function(t){this.draw(t)}}]),t}(),Et=function(){function t(e){var n=e.x,a=void 0===n?0:n,i=e.y,r=void 0===i?0:i,o=e.display,s=void 0===o||o,c=e.fillStyle,l=e.textConfig,u=e.text,d=void 0===u?"Hi":u,p=e.lineHeight,g=void 0===p?1.2:p,f=e.containerWidth,m=void 0===f?100:f,v=e.textAlignCenter,y=void 0===v||v,b=e.textBreak,O=void 0!==b&&b;Object(h.a)(this,t),this.display=s,this.groupDisplay=[],this.textConfig=l,this.text=d,this.textBreak=O,this.breakText=null,this.fontSize=18,this.fillStyle=c,this.x=this.textAlignCenter?0:a,this.y=r,this.translateXY={x:[],y:[]},this.w=0,this.h=0,this.containerWidth=m,this.lineHeight=g,this.textAlignCenter=y,this.prevProps={x:this.x,y:this.y,groupDisplay:["nothing"]}}return Object(d.a)(t,[{key:"setAttr",value:function(t,e){this[t]=e,this.prevProps=Object(f.a)({},this.prevProps,Object(O.a)({},t,e))}},{key:"handleTextBreak",value:function(t){t.font=this.textConfig;var e=this.text.split(" "),n=e.map((function(e){return t.measureText(e).width}));console.log(n),this.breakText=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=0,i=0,r=[],o=[];a<t.length;)"undefined"===typeof o[i]?(o[i]=e[a],r[i]=t[a]):o[i]<n?(o[i]+=e[a],r[i]+=" "+t[a]):(o[++i]=e[a],r[i]=t[a]),a++;return r}(e,n,this.containerWidth),console.log(this.breakText)}},{key:"handleTextAlignCenter",value:function(t){this.x+=(this.containerWidth-t.measureText(this.text).width)/2,this.w=t.measureText(this.text).width,this.h=t.measureText(this.text).height}},{key:"drawOnCanvas",value:function(t){if(t.save(),t.font=this.textConfig,t.fillStyle=this.fillStyle,this.textAlignCenter&&(this.handleTextAlignCenter(t),this.textAlignCenter=!1),this.textBreak){null===this.breakText&&this.handleTextBreak(t);for(var e=0;e<this.breakText.length;e++)t.fillText(this.breakText[e],this.x,this.y+this.fontSize*this.lineHeight*e)}else t.fillText(this.text,this.x,this.y);t.restore()}},{key:"draw",value:function(t){this.groupDisplay.includes(!1)?this.display=!1:(this.display=!0,this.drawOnCanvas(t))}},{key:"render",value:function(t){this.draw(t)}}]),t}(),Bt=function(){function t(e){var n=e.id,a=e.cloneId,i=e.imgSrc,r=e.width,o=e.height,s=e.x,c=void 0===s?0:s,l=e.y,d=void 0===l?0:l,p=e.imgRatio,g=void 0===p?1:p,f=e.status,m=void 0===f?[]:f,v=e.opacity,y=void 0===v?1:v;Object(h.a)(this,t),this.id=n,this.cloneId=a,this.groupDisplay=[],this.display=!0,this.imgSrc=i,this.image=new Image,this.image.src=this.imgSrc,this.imgRatio=g,this.opacity=y,this.width=r*this.imgRatio,this.height=o*this.imgRatio,this.x=c,this.y=d,this.translateXY={x:[],y:[]},this.speed=2,this.dir=!0,this.w=this.width,this.h=this.height,this.obj={x:this.x,y:this.y,w:this.w,h:this.h},this.bounceStart=!1,this.bounceState={bounceTimes:4,bounceLimit:6,bounceNow:0,bounceDirec:"big"},this.status=[{statusName:"origin",img:this.imgSrc}].concat(Object(u.a)(m)),this.prevProps={x:0,y:0,originXY:{x:this.x,y:this.y},translateXY:null}}return Object(d.a)(t,[{key:"setAttr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this[t]=e,this.prevProps=Object(f.a)({},this.prevProps,Object(O.a)({},t,e))}},{key:"bounceLoop",value:function(){var t=this.bounceState,e=t.bounceLimit,n=t.bounceNow,a=t.bounceDirec;n<2*e?(console.log(a),n>=e-1&&(this.bounceState.bounceDirec="small"),this.bounce(a),this.bounceState.bounceNow++):(this.bounceState.bounceDirec="big",this.bounceState.bounceNow=0,this.bounceStart=!1)}},{key:"bounce",value:function(t){this.x="big"===t?this.x-1:this.x+1,this.y="big"===t?this.y-1:this.y+1,this.width="big"===t?this.width+2:this.width-2,this.height="big"===t?this.height+2:this.height-2}},{key:"moveByUser",value:function(t){if(t.keyCode-37>=0&&t.keyCode-37<=3){var e=[-1,0,1,0][t.keyCode-37]*this.speed,n=[0,-1,0,1][t.keyCode-37]*this.speed;this.x+=e,this.y+=n}}},{key:"moveByNum",value:function(t,e){var n=function(t,e,n,a,i,r){var o=n+t,s=a+e;return(a<0||o>i||s>r||n<0)&&(a<0?"top":o>i?"right":s>r?"bottom":"left")}(this.w,this.h,this.x,this.y,gt,ft),a="right"===n||"left"===n?-t:t,i="top"===n||"bottom"===n?-e:e;this.x+=a*this.speed,this.y+=i*this.speed}},{key:"addStatus",value:function(t,e){this.status=[].concat(Object(u.a)(this.status),[{statusName:t,img:e}])}},{key:"changeStatus",value:function(t){var e=this.status.filter((function(e){return e.statusName===t}));e.length>0&&(this.image.src=e[0].img)}},{key:"drawOnCanvas",value:function(t){this.bounceStart&&this.bounceLoop(),t.save(),t.globalAlpha=this.opacity,t.drawImage(this.image,this.x,this.y,this.width,this.height),t.restore()}},{key:"draw",value:function(t){this.groupDisplay.includes(!1)?this.display=!1:(this.display=!0,this.drawOnCanvas(t))}},{key:"render",value:function(t){this.draw(t)}}]),t}(),Nt=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a,i=t.frameRate,r=void 0===i?10:i,o=t.imgIndex,s=void 0===o?0:o,c=t.imgTick,l=void 0===c?0:c,u=Object(bt.a)(t,["frameRate","imgIndex","imgTick"]);return Object(h.a)(this,n),(a=e.call(this,u)).actionsFn=[a.updateFrame],a.frameRate=r,a.w=a.width/a.frameRate,a.h=a.height,a.imgIndex=s,a.imgTick=l,a}return Object(d.a)(n,[{key:"draw",value:function(t){t.drawImage(this.image,this.imgIndex*this.width/this.frameRate/this.imgRatio,0,this.width/this.frameRate/this.imgRatio,this.height/this.imgRatio,this.x+this.groupXY.x,this.y+this.groupXY.y,this.width/this.frameRate,this.height)}},{key:"updateFrame",value:function(){this.imgTick<this.frameRate-1?(this.imgTick+=.25,this.imgTick%1===0&&(this.imgIndex=this.imgTick)):this.imgTick=0}},{key:"render",value:function(t){this.updateFrame(),this.display&&this.draw(t)}}]),n}(Bt),Dt=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).actionsFn=[].concat(Object(u.a)(a.actionsFn),[a.upAction]),a.posYTick=40,a.posYIndex=0,a}return Object(d.a)(n,[{key:"upAction",value:function(){this.posYIndex<this.posYTick&&(this.y-=1,this.posYIndex+=1)}},{key:"render",value:function(t){this.upAction(),this.updateFrame(),this.draw(t)}}]),n}(Nt),_t=function(){function t(e){var n=e.id,a=e.cloneId,i=void 0===a?0:a,r=e.groupDisplay,o=void 0===r||r,s=e.x,c=e.y,l=e.groupObjs,u=void 0===l?[{id:0,OBJ:{}}]:l,d=e.groupRatio;Object(h.a)(this,t),this.id=n,this.cloneId=i,this.groupDisplay=[o],this.display=!0,this.x=s,this.y=c,this.translateXY={x:[this.x],y:[this.y]},this.groupXY={x:0,y:0,setToGroupXY:!1},this.groupRatio=d,this.groupObjs=u,this.bounceStart=!1,this.prevProps={groupDisplay:[],display:null,groupObjs:this.groupObjs,x:null,y:null},this.setObjInGroup()}return Object(d.a)(t,[{key:"setAttr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)this[t]=e;else if(this.prevProps.x===this.x&&this.prevProps.y===this.y||this.setObjInGroup(),this.prevProps.groupObjs.length<this.groupObjs.length&&this.setObjInGroup("single",this.groupObjs.length-1),this.bounceStart)for(var n=0;n<this.groupObjs.length;n++)this.groupObjs[n].OBJ.hasOwnProperty("bounceStart")&&(this.groupObjs[n].OBJ.bounceStart=!0)}},{key:"setObjInGroup",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=0,i=0,r=function(e){t.groupObjs[e].OBJ.setAttr("x",t.groupObjs[e].OBJ.x+t.x-t.prevProps.x),t.groupObjs[e].OBJ.setAttr("y",t.groupObjs[e].OBJ.y+t.y-t.prevProps.y)};if("all"===e)for(var o=0;o<this.groupObjs.length;o++)r(o);else"single"===e&&r(n);for(var s=0;s<this.groupObjs.length;s++)this.groupObjs[s].OBJ.w>a&&(a=this.groupObjs[s].OBJ.w),this.groupObjs[s].OBJ.h>i&&(i=this.groupObjs[s].OBJ.h);this.w=a,this.h=i,this.prevProps=Object(f.a)({},this.prevProps,{x:this.x,y:this.y,w:this.w,h:this.h,groupObjs:this.groupObjs,translateXY:{x:this.translateXY.x,y:this.translateXY.y}})}},{key:"draw",value:function(t){if(this.prevProps.display!==this.display||this.prevProps.groupDisplay.toString()!==this.groupDisplay.toString()||this.prevProps.groupObjs.length!==this.groupObjs.length){console.log("changed display");for(var e=0;e<this.groupObjs.length;e++)this.groupObjs[e].OBJ.groupDisplay=[].concat(Object(u.a)(this.groupDisplay),[this.display]);this.prevProps=Object(f.a)({},this.prevProps,{display:this.display,groupDisplay:this.groupDisplay,groupObjs:this.groupObjs})}for(var n=0;n<this.groupObjs.length;n++)this.groupObjs[n].OBJ?this.groupObjs[n].OBJ.render(t):this.groupObjs[n].render(t);this.setAttr()}},{key:"render",value:function(t){t.save(),this.draw(t),t.restore()}}]),t}(),Lt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(h.a)(this,t),this.canvas=e,this.ctx=e.getContext("2d"),this.UIstate={moneyBagCount:0},this.myLayers={BackLayer:n.BackLayer,ObjLayer:n.ObjLayer,UILayer:n.UILayer},this.myLayers.UILayer=void 0,this.testNum=0,this.dir=!0,this.setIdActions=this.setIdActions.bind(this),this.frame={prev:0,now:0,fps:0}}return Object(d.a)(t,[{key:"setPropToGame",value:function(t,e){this[t]=e,this.prevProps=Object(f.a)({},this.prevProps,Object(O.a)({},t,e))}},{key:"init",value:function(){var t=this,e=JSON.parse(localStorage.getItem("gameConfig"))||[],n=JSON.parse(localStorage.getItem("gameSpawnObjConfig"))||[];0===e.length&&localStorage.setItem("gameConfig",JSON.stringify(pt)),localStorage.getItem("gameSpawnObjConfig")||localStorage.setItem("gameSpawnObjConfig",JSON.stringify([]));for(var i=0;i<n.length;i++)this.spawnObjToLayer({layer:"ObjLayer",objFn:a[n[i].objFn],pos:{useRandom:!1,x:n[i].pos.x,y:n[i].pos.y},isInit:!0,i:i,isUI:!1});setInterval((function(){t.frame.fps=2*(t.frame.now-t.frame.prev),t.frame.prev=t.frame.now}),500)}},{key:"setInitStates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stateTree=t}},{key:"updateGameStates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stateTree=Object(f.a)({},this.stateTree,{stateObj:t})}},{key:"getAttr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=kt(this.myLayers[t].layerObjs,e,n,i);if(console.log(r[0].OBJ[a]),r)return r[0].OBJ[a];throw"cannot get attr from your function"}},{key:"setAttr",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=kt(this.myLayers[t].layerObjs,e,n,r),s=0;s<o.length;s++)"groupDisplay"!==a||Object(It.isArray)(i)?o[s].OBJ.setAttr(a,i):o[s].OBJ.setAttr(a,[i]);console.log("gameSetAttr: ",i,o)}},{key:"checkObjExist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.length>0?this.myLayers[t].layerObjs.filter((function(t){return t.id===e}))[0].OBJ.groupObjs.filter((function(t){return t.id===n&&a===a})).length>0:kt(this.myLayers[t].layerObjs,n,a,!0).length>0}},{key:"updateStateNum",value:function(t,e,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.myLayers[t].layerObjs.filter((function(t){return t.id===e}))[0]&&this.myLayers[t].layerObjs.filter((function(t){return t.id===e}))[0].OBJ,o=i?a:1*r[n]+a;r&&r[n]&&(r[n]=o);var s=JSON.parse(localStorage.getItem("gameConfig")),c=w(s,e,"value",o);localStorage.setItem("gameConfig",JSON.stringify(c))}},{key:"setLayerObjs",value:function(t,e,n){this.myLayers[t].layerObjs.filter((function(t){return t.id===e}))[0].OBJ.groupObjs=n}},{key:"spawnObjToLayer",value:function(t){var e=this,n=t.layer,a=t.container,i=void 0===a?"":a,r=t.objFn,o=t.pos,s=void 0===o?{useRandom:!0,x:0,y:0}:o,c=t.objFnParas,l=void 0===c?{}:c,h=t.selfDestroy,d=void 0!==h&&h,p=t.destroyTime,g=void 0===p?600:p,m=(t.isInit,t.isUI,this.myLayers[n]),v=r(Object(f.a)({x:s.x,y:s.y},l)),y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:0===n?~~(Math.random()*(t.width-e.OBJ.w)):n,y:0===a?~~(Math.random()*(t.width-e.OBJ.w)):a}}(mt,v,s.x,s.y),b=s.useRandom?r.apply(void 0,[y.x,y.y].concat(Object(u.a)(l))):v,O=m.layerObjs.filter((function(t){return t.id===i}))[0].OBJ.groupObjs,j=O.filter((function(t){return t.id===b.id})).length,w=j&&j<20?j+1:1,A={id:b.id,cloneId:w,OBJ:b.OBJ};j<20?this.setAttr(n,i,0,"groupObjs",[].concat(Object(u.a)(O),[A])):j>=20&&this.setAttr(n,i,0,"groupObjs",[].concat(Object(u.a)(O.filter((function(t){return t.id!==b.id}))),[A])),d&&setTimeout((function(){console.log("delete",O,w),e.setAttr(n,b.id,w,"display",!1)}),g)}},{key:"removeObjFromLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.myLayers[t];this.setLayerObjs(t,xt(a,e,n))}},{key:"setMouseCursor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];"default"!==this.canvas.style.cursor&&(this.canvas.style.cursor="default");for(var a=function(){return e.canvas.style.cursor="pointer"},i=["BackLayer","ObjLayer","UILayer"],r=this.myLayers,o=0;o<i.length;o++)for(var s=0;s<n.length;s++){var c=Ct(t,this.canvas,r[i[o]],n[s],0,a,!0);!1!==c&&c()}}},{key:"setIdActions",value:function(t,e,n){var a,i=n.fn,r=Object(Ot.a)(n.parameters).slice(0);return(a=this.myLayers[t].layerObjs.filter((function(t){return t.id===e}))[0].OBJ)[i].apply(a,Object(u.a)(r)),this}},{key:"render",value:function(){this.frame.now+=1,this.ctx.clearRect(0,0,gt,ft);for(var t=["BackLayer","ObjLayer","UILayer"],e=0;e<t.length;e++)this.myLayers[t[e]]&&this.myLayers[t[e]].render(this.ctx);this.ctx.font="16px Arial",this.ctx.fillStyle="#000",this.ctx.fillText("fps:"+this.frame.fps,10,60),requestAnimationFrame(this.render.bind(this))}}]),t}(),Jt=function(){function t(e){var n=this,a=e.containerStates,i=void 0===a?{}:a,r=e.containerGroup,o=void 0===r?[]:r;Object(h.a)(this,t),this.setContainerState=function(t){n.containerStates=Object(f.a)({},n.containerStates,{},t),n.updateComponents()},this.containerStates=i||{},this.id=o.id||"",this.cloneId=0,this.OBJ=o.OBJ||{},this.subscribedComponents=[]}return Object(d.a)(t,[{key:"setState",value:function(t,e){this.containerStates=Object(f.a)({},this.containerStates,Object(O.a)({},t,e))}},{key:"setAttr",value:function(t,e,n,a){console.log(this.containerStates);var i=kt(this.OBJ.groupObjs,t,e,!1);i&&i.length>0&&("groupDisplay"===n&&"string"===typeof n?i[0].OBJ.setAttr(n,[a]):i[0].OBJ.setAttr(n,a))}},{key:"updateComponents",value:function(){console.log("this.containerStates: ",this.containerStates)}},{key:"getContainerAttr",value:function(t,e){return t.filter((function(t){return t.id===e}))[0]}},{key:"updateCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.containerStates,r=i[e].filter((function(e){return e.id===t}));if(r.length>0){var o=r[0][n],s=o+a;this.setContainerState(Object(O.a)({},e,[].concat(Object(u.a)(i[e].filter((function(e){return e.id!==t}))),[Object(O.a)({id:t},n,s)])))}}},{key:"removeObjInContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log(this.OBJ.groupObjs),this.OBJ.groupObjs=Object(u.a)(this.OBJ.groupObjs.filter((function(n){return!(n.id===t&&n.cloneId===e)})))}},{key:"addObjToContainer",value:function(t){this.OBJ.groupObjs=[].concat(Object(u.a)(this.OBJ.groupObjs),[t])}}]),t}(),Ft=function(t){var e=t.imgSrc,n=void 0===e?"":e,a=t.id,i=void 0===a?"Icon":a,r=t.x,o=void 0===r?0:r,s=t.y,c=void 0===s?0:s,l=t.opacity;return{id:i,cloneId:0,OBJ:new Bt({imgSrc:n,x:o,y:c,width:40,height:40,opacity:void 0===l?1:l})}},Qt=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a,i=t.count,r=Object(bt.a)(t,["count"]);return Object(h.a)(this,n),(a=e.call(this,r)).count=i,a.text="X "+a.count,a.prev={count:a.count},a}return Object(d.a)(n,[{key:"updateWithProps",value:function(){this.prev.count!==this.count&&(this.text="X "+this.count),this.prev.count=this.count}},{key:"render",value:function(t){this.groupDisplay.includes(!1)?this.display=!1:(this.display=!0,this.draw(t)),this.updateWithProps()}}]),n}(Et),Ut=function(t){var e=t.id,n=t.count;return{id:"shopCount_"+e,cloneId:0,OBJ:new Qt({x:0,y:60,textConfig:"14px Arial",count:void 0===n?0:n,containerWidth:40})}},Mt=function(t){var e=t.id,n=void 0===e?"ShopIcon":e,a=t.x,i=void 0===a?0:a,r=t.y,o=void 0===r?0:r,s=t.iconImgSrc,c=void 0===s?"":s,l=t.iconCount;return St({id:n,spec:[i,o],groupObjs:[Ft({imgSrc:c}),Ut({id:n,count:l})]})},Pt=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).opacity=1,a.opacityRate=.04,a.pop={limit:30,now:0,originY:a.y},a}return Object(d.a)(n,[{key:"popUp",value:function(){this.pop.now<this.pop.limit&&(this.pop.now++,this.opacity-this.opacityRate>0?this.opacity=this.opacity-this.opacityRate:this.opacity=0,this.y-=.35)}},{key:"render",value:function(t){t.save(),t.globalAlpha=this.opacity,this.popUp(),this.draw(t),t.restore()}}]),n}(Et),Rt=function(t){var e=t.x,n=void 0===e?100:e,a=t.y,i=void 0===a?100:a,r=t.id,o=void 0===r?"":r,s=t.count,c=void 0===s?1:s,l=t.operation;return{id:"effectNumberPopUp_"+o,cloneId:0,OBJ:new Pt({x:n,y:i,textConfig:"18px Arial",text:(void 0===l?"+":l)+" "+c,containerWidth:40})}},Yt=At("itemsBG",it[4],[300,400,0,0]),Ht=new(function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"updateComponents",value:function(){var t=this,e=this.containerStates.items;e.length>0&&e.map((function(e){return t.setAttr(e.id,0,"count",e.count)}))}}]),n}(Jt))({containerStates:{items:[]},containerGroup:(i=30,r=100,St({id:"ItemsContainer",spec:[i,r],groupObjs:[Yt]}))}),Xt=Ft({imgSrc:rt,id:"ShopOpenIcon",x:gt-60,y:ft-80}),qt=Ft({imgSrc:lt,id:"ItemOpenIcon",x:20,y:ft-80}),Gt=Ft({imgSrc:ut,id:"HealthIcon",x:0,y:0}),Wt=Ft({imgSrc:ht,id:"PowerIcon",x:0,y:0}),zt=Ft({imgSrc:dt,id:"SmartIcon",x:0,y:0}),Kt=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).length=0,a.prev={length:0},a}return Object(d.a)(n,[{key:"updateLength",value:function(){this.prev.length!==this.length&&(this.w=this.length,this.prev=Object(f.a)({},this.prev,{length:this.length}))}},{key:"render",value:function(t){this.updateLength(),this.display&&this.draw(t)}}]),n}(Tt),Vt=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).count=0,a.text=a.count+" / 100",a.textConfig="14px Arial",a.prev=Object(f.a)({},a.prev,{count:a.count}),a}return Object(d.a)(n,[{key:"updateCountText",value:function(){this.prev.count!==this.count&&(this.text=this.count+" / 100",this.prev=Object(f.a)({},this.prev,{count:this.count}))}},{key:"render",value:function(t){this.updateCountText(),this.display&&this.draw(t)}}]),n}(Et),$t=function(t,e){return{id:t+"_barRect",cloneId:0,OBJ:new Kt({id:t+"_barRect",x:10,y:10,w:100,h:20,fillStyle:e})}},Zt=function(t){return{id:t+"_statusCount",cloneId:0,OBJ:new Vt({x:40,y:20})}},te=function(t){var e=t.id,n=t.icon,a=t.barColor;return function(t,i){return St({id:e,spec:[t,i],groupObjs:[$t(e,a),n,Zt(e)]})}},ee=te({id:"healthBar",icon:Gt,barColor:"#eaa"})(0,0),ne=te({id:"powerBar",icon:Wt,barColor:"#cc0"})(0,60),ae=te({id:"smartBar",icon:zt,barColor:"#3af"})(0,120),ie=new(function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"updateComponents",value:function(){var t=this,e=this.containerStates.barState;e.map((function(e){return t.setAttr(e.id+"_barRect",0,"length",e.length)})),e.map((function(e){return t.setAttr(e.id+"_statusCount",0,"count",e.length)}))}}]),n}(Jt))({containerStates:{barState:[{id:"healthBar",length:100},{id:"powerBar",length:100},{id:"smartBar",length:100}]},containerGroup:function(t,e){return St({id:"MainContainer",spec:[t,e],groupObjs:[ee,ne,ae]})}(20,20)}),re=vt.slice(0,4).map((function(t){return t.id})),oe=function(){return ie.updateCount("healthBar","barState","length",10)},se=function(t,e){return{layer:t.myLayers.UILayer,id:e,cloneId:1,fn:function(){Ht.getContainerAttr(Ht.containerStates.items,"shopCount_"+e).count-1>0?Ht.updateCount("shopCount_"+e,"items","count",-1):Ht.removeObjInContainer(e,1),oe()}}},ce=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).prevTime=0,a.countDownTime=0,a.time=0,a.text="",a}return Object(d.a)(n,[{key:"convertTime",value:function(){var t=this.time%60<10?"0"+this.time%60:this.time%60,e=~~(this.time/60);this.text=e+" : "+t}},{key:"render",value:function(t){this.convertTime(),this.draw(t)}}]),n}(Et),le=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a,i=t.timeRectType,r=void 0===i?"BG":i,o=t.countDownTime,s=void 0===o?100:o,c=Object(bt.a)(t,["timeRectType","countDownTime"]);return Object(h.a)(this,n),(a=e.call(this,c)).prevTime=0,a.time=0,a.maxWidth=200,a.countDownTime=s,a.w=a.maxWidth,a.timeRectType=r,a}return Object(d.a)(n,[{key:"setWidthByTimeAndType",value:function(){"Active"===this.timeRectType&&(this.w=this.time/this.countDownTime*this.maxWidth)}},{key:"render",value:function(t){t.save(),this.setWidthByTimeAndType(),this.draw(t),t.restore()}}]),n}(Tt),ue=function(t){return{id:"timerRectBack",cloneId:0,OBJ:new le({x:0,y:0,h:10,fillStyle:"#ddd",timeRectType:"BG",countDownTime:t})}},he=function(t){return{id:"timerRectBack",cloneId:0,OBJ:new le({x:0,y:0,h:10,fillStyle:"#333",timeRectType:"Active",countDownTime:t})}},de=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a,i=t.countDownTime,r=void 0===i?100:i,o=t.popUpObjs,s=void 0===o?[]:o,c=t.updateFns,l=void 0===c?[]:c,d=Object(bt.a)(t,["countDownTime","popUpObjs","updateFns"]);return Object(h.a)(this,n),(a=e.call(this,d)).time=r,a.updateFns=l,a.timer=setInterval((function(){var t=a.time-1;a.handleChangeByTime(t),a.time%2===0&&(a.resetPopUpObjs(),a.updateFns.map((function(t){return t()}))),a.time=t}),1e3),a.popUpObjs=s,a.groupObjs=[].concat(Object(u.a)(a.groupObjs),Object(u.a)(s)),a.handleChangeByTime(r),a.groupObjs.map((function(t){return t.OBJ.countDownTime=r})),a}return Object(d.a)(n,[{key:"resetPopUpObjs",value:function(){for(var t=0;t<this.popUpObjs.length;t++){var e=this.popUpObjs[t].OBJ,n=e.pop.originY;e.setAttr("opacity",1),e.setAttr("y",n),e.pop.now=0}}},{key:"checkTimer",value:function(){this.time<=0&&(this.display=!1,clearInterval(this.timer))}},{key:"handleChangeByTime",value:function(t){this.groupObjs.map((function(e){return e.OBJ.time=t}))}},{key:"render",value:function(t){t.save(),this.checkTimer(),this.draw(t),t.restore()}}]),n}(_t),pe={x:0,y:0,w:300,h:600},ge=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a,i=t.wall,r=void 0===i?pe:i,o=Object(bt.a)(t,["wall"]);return Object(h.a)(this,n),(a=e.call(this,o)).speed={vx:3,vy:0},a.acceleration={ax:0,ay:10/60},a.wall=r,a.wall=Object(f.a)({},a.wall,{b:a.wall.y+a.wall.h}),a.count=0,a}return Object(d.a)(n,[{key:"move",value:function(t){var e={x:this.x+this.speed.vx,y:this.y+this.speed.vy};if(t)return e;this.acc(),this.x=e.x,this.y=e.y}},{key:"acc",value:function(){this.speed.vx+=this.acceleration.ax,this.speed.vy+=this.acceleration.ay}},{key:"checkCollide",value:function(){return function(t,e){var n=jt(t),a=jt(e),i=n.l>a.l,r=n.r<a.r,o=n.t>a.t,s=n.b<a.b;if(i&&r&&o&&s)return!1;var c=[];return i||(c=[].concat(Object(u.a)(c),["left"])),r||(c=[].concat(Object(u.a)(c),["right"])),o||(c=[].concat(Object(u.a)(c),["top"])),s||(c=[].concat(Object(u.a)(c),["bottom"])),c}({x:this.move("get").x,y:this.move("get").y,w:this.w,h:this.h},this.wall)}},{key:"wander",value:function(){var t=this.checkCollide();this.y>=this.wall.b?(console.log(this.y,this.wall.b),this.y=this.wall.b):(this.speed.vy>=0?this.count+=1:this.count=0,console.log(this.count),t?(this.x+=this.speed.vx,this.y+=this.speed.vy,(t.includes("right")||t.includes("left"))&&(this.speed.vx=-1*this.speed.vx),(t.includes("top")||t.includes("bottom"))&&(this.speed.vy=-1*this.speed.vy)):this.move())}},{key:"render",value:function(t){this.wander(),this.draw(t)}}]),n}(Bt),fe=yt.backGround,me=fe.width,ve=fe.height,ye=fe.imgSrc,be=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=100,n=4*(t-1),a=vt.slice(n,4*t),i=a.map((function(t){return E(t.posId-n,3,80,me,40)})),r=[],o=0;o<i.length;o++)r[o]=Object(f.a)({},a[o],{x:i[o].x,y:i[o].y});return St({id:"shopItems"+t,spec:[0,e],groupObjs:Object(u.a)(r.map((function(t){return Mt({id:t.id,x:t.x,y:t.y,iconImgSrc:t.imgSrc,iconCount:0})})))})},Oe=be(1),je=be(2),we=Ft({id:"closeIcon",imgSrc:ct,x:280,y:-20}),Ae=function(t){var e=t.imgSrc,n=t.x,a=t.y,i=t.w,r=t.h;return{id:"ShopBG_B",cloneId:0,OBJ:new Bt({x:n,y:a,width:i,height:r,imgSrc:e})}}({imgSrc:ye,x:0,y:0,w:me,h:ve}),Se=function(t){var e=t.x,n=t.y;return function(t){var e=t.x,n=void 0===e?100:e,a=t.y,i=void 0===a?200:a,r=t.countDownTime,o=void 0===r?100:r,s=t.objsInTimer,c=void 0===s?[]:s,l=t.popUpObjs;return{id:"DefaultTimer",cloneId:0,OBJ:new de({x:n,y:i,countDownTime:o,groupObjs:[{id:"countDownTxt",cloneId:0,OBJ:new ce({x:0,y:40,containerWidth:200})},ue(o),he(o)].concat(Object(u.a)(c)),popUpObjs:l,updateFns:[oe]})}}({x:e,y:n,countDownTime:10,objsInTimer:[Ft({id:"IconInTimer",imgSrc:ht,x:0,y:30})],popUpObjs:[Rt({x:e,y:n,id:"timerPop",count:10})]})},xe=[{id:"shopCount_ShopIcon_shop",attr:"count"},{id:"shopCount_ShopIcon_info",attr:"count"},{id:"shopCount_ShopIcon_coins",attr:"count"},{id:"shopCount_ShopIcon_burger",attr:"count"}],Ce=new(function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"updateComponents",value:function(){var t=this,e=this.containerStates.countNum.map((function(t){return{num:t}})),n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var a=e.map((function(t){return t.length?t.length:t})),i=0;i<a.length;i++)if(a[i]!==a[0])throw"your parameter have different length.";var r=[];console.log(e);for(var o=0;o<e.length;o++)for(var s=0;s<e[o].length;s++)r[s]=Object(f.a)({},r[s],{},e[o][s]);return r}(xe,e);console.log(n),n.map((function(e){return t.setAttr(e.id,0,e.attr,e.num)}))}}]),n}(Jt))({containerStates:{countNum:[40,30,40,99]},containerGroup:function(t,e){return St({id:"ShopContainer",spec:[t,e],groupObjs:[Ae,Oe,je,St({id:"shopTabs",spec:[20,20],groupObjs:[Ft({id:"tabA",x:0,y:0,imgSrc:ot,opacity:.4}),Ft({id:"tabB",x:80,y:0,imgSrc:st,opacity:.4})]}),we,{id:"WanderCat",cloneId:0,OBJ:new ge({x:40,y:40,width:60,height:60,imgSrc:"https://www.shareicon.net/download/128x128//2016/05/16/766068_tiger_512x512.png",wall:Object(f.a)({},pe,{w:gt,h:ft})})}]})}(22,99)});Ce.updateComponents(),Ce.setAttr("tabA",0,"opacity",1),Ce.setAttr("shopItems2",0,"display",!1),console.log(Ce);var ke={sSize:"12px Arial",mSize:"18px Arial"},Ie=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(h.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"render",value:function(t){t.font=this.textConfig,t.fillText("X "+this.text,this.x,this.y)}}]),n}(Et),Te=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a,i=t.upPosY,r=void 0===i?40:i,o=Object(bt.a)(t,["upPosY"]);return Object(h.a)(this,n),(a=e.call(this,o)).posYTick=r,a.posYIndex=0,a}return Object(d.a)(n,[{key:"upAction",value:function(){this.posYIndex<this.posYTick&&(this.setObjInGroup(0,-1),this.y=this.y+-1,this.posYIndex+=1)}},{key:"render",value:function(t){this.upAction();for(var e=0;e<this.groupObjs.length;e++)this.groupObjs[e].OBJ?this.groupObjs[e].OBJ.render(t):this.groupObjs[e].render(t)}}]),n}(_t),Ee=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("testButton",V,[30,30,t,e],Bt,1,[{statusName:"another",img:et}])},Be=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("userCharacter",nt,[120,120,t,e],Bt,.8,[{statusName:"another",img:et}])},Ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("moneyBag",K[1],[100,100,t,e],Bt,.8)},De=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At(7003,K[0],[30,30,t,e],Bt)},_e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{id:2001,OBJ:new Ie({x:t,y:e,textConfig:ke.sSize,text:n})}},Le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("upCoin",z,[1e3,100,t,e],Dt)},Je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At(1,z,[1e3,100,t,e],Nt,.4)},Fe=At(-1e3,"https://visme.co/blog/wp-content/uploads/2017/07/50-Beautiful-and-Minimalist-Presentation-Backgrounds-03.jpg",[mt.width,mt.height,0,0]),Qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("alertTest",$,[200,100,t,e],Bt)},Ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("OKIcon",Z,[20,20,t,e],Bt)},Me=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At("cancelIcon",tt,[20,20,t,e],Bt)},Pe=function(t,e){return{id:"alertBack",cloneId:0,OBJ:new Tt({x:t,y:e,w:gt,h:ft,fillStyle:"rgba(0, 0, 0, 0.2)"})}},Re=function(t,e){return At("testPicBack","https://img.freepik.com/free-vector/abstract-splashed-watercolor-textured-background_53876-8717.jpg?size=626&ext=jpg",[300,300,t,e],Bt)},Ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{id:3e3,OBJ:new Et({x:t,y:e,textConfig:ke.mSize,text:"Shop ping List lab"})}},He=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{id:"alertPurchase",OBJ:new Et({x:t,y:e,textConfig:ke.mSize,text:"Are you sure upgrading? (cost 10000)"})}},Xe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{id:"moneyUIwithText",OBJ:new Te({upPosY:30,x:t,y:e,groupObjs:[_e(20,60,n),Je(0,0)]})}},qe=function(t,e){return St({id:"alertUI",spec:[t,e],drawGroupClass:_t,groupObjs:[Re(0,0),Me(200,160),Ue(120,160)]})},Ge=[{id:"bulbCurvyFlat",imgSrc:at[0],x:20},{id:"htmlFlat",imgSrc:at[1],x:80},{id:"bulbCurvyFlat2",imgSrc:at[0],x:120},{id:"bulbCurvyFlat3",imgSrc:at[0],x:160}],We=function(t,e){return St({id:"testGroupMap",spec:[t,e],groupObjs:Ge.map((function(t){return At(t.id,t.imgSrc,[100,100,t.x,e],Bt,1,[],.7)}))})},ze=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,t),this.layerObjs=e}return Object(d.a)(t,[{key:"render",value:function(t){for(var e=0;e<this.layerObjs.length;e++)this.layerObjs[e].OBJ.render(t)}}]),t}(),Ke=new ze([ie,Ht,qt,Xt,Ce]),Ve=new ze([]),$e={BackLayer:new ze([Fe]),ObjLayer:Ve,UILayer:Ke},Ze=0,tn=vt.slice(0,8).map((function(t){return t.id})),en=[{tab:"tabA",items:"shopItems1"},{tab:"tabB",items:"shopItems2"},{tab:"tabC",items:"shopItems3"}],nn=function(t,e){return{layer:t.myLayers.UILayer,id:e,cloneId:0,fn:function(){var n=vt.filter((function(t){return t.id===e})),a=t.checkObjExist("UILayer","ItemsContainer",e),i={x:t.getAttr("UILayer",e,0,"x",!1),y:t.getAttr("UILayer",e,0,"y",!1)},r=Ht.OBJ.groupObjs.length;t.spawnObjToLayer(function(t){var e=t.x,n=void 0===e?0:e,a=t.y;return{layer:"UILayer",container:"ShopContainer",objFn:Rt,pos:{x:n,y:void 0===a?0:a},objFnParas:{id:"count1",count:1},selfDestroy:!0,destroyTime:2e3}}(i)),a?Ht.updateCount("shopCount_"+e,"items","count",1):(n.map((function(e){return t.spawnObjToLayer({layer:"UILayer",container:"ItemsContainer",objFn:Mt,pos:{x:60*r,y:100},objFnParas:{id:e.id,iconImgSrc:e.imgSrc,iconCount:1},selfDestroy:!1,destroyTime:3e3})})),console.log(Ht.containerStates),Ht.setContainerState({items:[].concat(Object(u.a)(Ht.containerStates.items.filter((function(t){return t.id!=="shopCount_"+e}))),[{id:"shopCount_"+e,count:1}])}))}}},an=function(t,e,n,a,i){return{layer:t.myLayers.UILayer,id:a,cloneId:0,fn:function(){for(var t=0;t<n.length;t++){var r=n[t],o=r.tab,s=r.items;e.setAttr(s,0,"display",!1),e.setAttr(o,0,"opacity",.4)}e.setAttr(i,0,"display",!0),e.setAttr(a,0,"opacity",1)}}},rn=void 0,on=function(t){return[].concat(Object(u.a)(function(t){var e=t.myLayers.UILayer;return[{layer:e,id:"UIDisplayComponent_A",cloneId:0,fn:function(){rn.purchaseCoinUprade(1e4)}},{layer:e,id:"cancelIcon",cloneId:0,fn:function(){t.removeObjFromLayer("UILayer","alertUI",1)}},{layer:e,id:"alertBack",cloneId:0,fn:function(){return!1}}]}(t)),Object(u.a)(function(t){var e=t.myLayers.UILayer;return[{layer:e,id:"ShopIcon_hotDog",cloneId:0,fn:function(){window.alert("ShopIcon_hotDog")}},{layer:e,id:"closeIcon",cloneId:0,fn:function(){t.setAttr("UILayer","ShopContainer",0,"display",!1)}}].concat(Object(u.a)(tn.map((function(e){return nn(t,e)}))),Object(u.a)(en.map((function(e){return an(t,Ce,en,e.tab,e.items)}))),[{layer:e,id:"ShopOpenIcon",cloneId:0,fn:function(){Ze+=1,t.setAttr("UILayer","ShopContainer",0,"display",!0),t.setAttr("UILayer","ShopOpenIcon",0,"bounceStart",!0);var e={x:t.getAttr("UILayer","ShopOpenIcon",0,"x",!1),y:t.getAttr("UILayer","ShopOpenIcon",0,"y",!1)};t.spawnObjToLayer({layer:"UILayer",container:"ShopContainer",objFn:Rt,pos:e,objFnParas:{id:"count1",count:1},selfDestroy:!1,destroyTime:2e3}),t.spawnObjToLayer({layer:"UILayer",container:"ShopContainer",objFn:Se,pos:{x:100+10*Ze,y:300+10*Ze},selfDestroy:!1})}},{layer:e,id:"ShopIcon_burger",cloneId:0,fn:function(){var e=t.getAttr("UILayer","ShopContainer",0,"x");t.setAttr("UILayer","ShopContainer",0,"x",e+5)}}])}(t)),Object(u.a)([{layer:(e=t).myLayers.UILayer,id:"ItemOpenIcon",cloneId:0,fn:function(){var t=e.getAttr("UILayer","ItemsContainer",0,"display");e.setAttr("UILayer","ItemsContainer",0,"display",!t),console.log(kt(Ht.OBJ.groupObjs,"shopCount_ShopIcon_shop",0))}}].concat(Object(u.a)(re.map((function(t){return se(e,t)}))))),Object(u.a)(function(t){return[{layer:t.myLayers.UILayer,id:"healthBar",cloneId:0,fn:function(){ie.updateCount("healthBar","barState","length",10)}}]}(t)));var e},sn=n(58),cn=n.n(sn);cn.a.initializeApp({apiKey:"AIzaSyCcmyf7VijRIBE1EgkK1CDYGvcBRnz6KJc",authDomain:"test-253f3.firebaseapp.com",databaseURL:"https://test-253f3.firebaseio.com",projectId:"test-253f3",storageBucket:"test-253f3.appspot.com",messagingSenderId:"8727978886"});var ln=cn.a.database(),un=(s.a.PureComponent,n(116)),hn=n(54);m.b.add(y.c);var dn=function(t){var e=t.id,n=void 0===e?"option-0-0":e,a=t.changeFn,i=t.choice,r=void 0===i?"A":i,o=t.value,c=void 0===o?"":o,l=t.placeholder,u=void 0===l?"option here":l;return s.a.createElement("div",{className:"single-option-container"},s.a.createElement("span",null,r),s.a.createElement("input",{id:n,onChange:a,value:c,placeholder:u,type:"text"}))},pn=_((function(t){var e=t.id,n=void 0===e?0:e,a=t.deleteQuestion,i=void 0===a?function(){}:a;return s.a.createElement("span",{name:n,onClick:i.bind(void 0,n),className:"delete-createQA"},s.a.createElement(v.a,{name:n,icon:"minus-circle"}))}),"Delete This Question","delete-createQA"),gn=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.question,a=t.options,i=t.changeFn,r=t.deleteQuestion;return s.a.createElement("form",{onChange:i,className:"single-QA",id:e},s.a.createElement("h3",{className:"single-createQA-title"},"Question ",e+1," "),s.a.createElement(pn,{id:e,deleteQuestion:r}),s.a.createElement("textarea",{value:n,id:"question-"+e,onChange:i}),s.a.createElement("h3",null,"Options"),a.map((function(t){return s.a.createElement(dn,{key:"a-".concat(e,"-").concat(t.id),id:"option-".concat(e,"-").concat(t.id),choice:t.choice,value:t.option,changeFn:i})})),s.a.createElement("hr",null))}}]),n}(s.a.Component),fn=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).componentDidUpdate=function(t){if(t.oldData!==a.props.oldData){var e=a.props.oldData,n=void 0===e?[{id:-1}]:e;a.setState({lastIdOfOldData:n[n.length-1].id+1})}},a.componentDidMount=function(){var t=localStorage.getItem("tempSave");t?a.setState({createQAData:JSON.parse(t)}):localStorage.setItem("tempSave","")},a._handleChange=function(t){var e,n=t.target,i=n.id,r=n.value,o=a.state.createQAData;if(-1!==i.search(/question-/gi)){var s=1*i.slice(9);e=w(o,s,"question",r)}else if(-1!==i.search(/option-/gi)){var c=1*i.split("-")[1],l=1*i.split("-")[2],u=w(o[c].options,l,"option",r);e=w(o,c,"options",u)}localStorage.setItem("tempSave",JSON.stringify(e)),a.setState({createQAData:e})},a._handleChangeDatabaseName=function(t){var e=t.target.value;a.setState({database:e})},a._handleAddQuestion=function(){var t=a.state.createQAData,e=[].concat(Object(u.a)(t),[a.qaPlate(t[t.length-1].id+1)]);a.setState({createQAData:e}),a.bottom.scrollIntoView({behavior:"smooth"})},a._handleDeleteQuestion=function(t){var e=a.state.createQAData,n=e.filter((function(e){return e.id>1*t})),i=n.map((function(t){return Object(f.a)({},t,{id:t.id-1})})),r=e.filter((function(e){return e.id<1*t}));e.length>1&&(r?n?a.setState({createQAData:[].concat(Object(u.a)(r),Object(u.a)(i))}):a.setState({createQAData:Object(u.a)(r)}):a.setState({createQAData:Object(u.a)(i)}))},a._handleChangeAnswer=function(t){var e=t.target.value,n=a.state.answer,i=I(e)?I(e).toUpperCase():e.toUpperCase(),r=i.length,o=r-6,s=n;r>n.length&&-1!==i.search(/[a|b|c|d]$/gi,"")?s=o%6===0?i.slice(0,r-1)+"\n"+i.slice(r-1):i:r<n.length&&(s=i),a.setState({answer:s})},a._resetCreateQA=function(){window.confirm("Are you sure deleting these QA?")&&localStorage.setItem("tempSave","")},a._checkAmoutOfQA=function(t){var e=a.state,n=e.answer,i=e.createQAData,r=a.props.oldData,o=void 0===r?[]:r,s=n.replace(/\n/gi,"").length;if(s!==i.length)console.log(s,i.length),t.preventDefault(),window.alert("\u984c\u6578\u8207\u89e3\u7b54\u7684\u6578\u91cf\u4e0d\u7b26~");else if(!1===function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:0}],n=[],a=0;a<e.length;a++)for(var i in e[a]){if(""===e[a][i])return!1;if(Array.isArray(e[a][i]))if("object"===typeof e[a][i][0])n=[].concat(Object(u.a)(n),[t(e[a][i])]);else if(e[a][i].indexOf(!0))return!1}return-1===n.indexOf(!1)}(i.map((function(t){return Object(f.a)({},t,{correctAnswer:"mockAnswer"})}))))t.preventDefault(),console.log(i),window.alert("\u984c\u76ee\u6216\u662f\u9078\u9805\u9084\u6709\u672a\u586b\u5beb\u7684\u5594\uff5e");else{a.props.setCoin(100*i.length);var c=[].concat(Object(u.a)(o),Object(u.a)(a.convertDataToJSON(i)));a.setState({resultJSON:c}),ln.ref("nihongo").set(c),window.alert("database have been updated")}},a.convertDataToJSON=function(t){var e=a.state,n=e.lastIdOfOldData,i=e.answer,r=e.database,o=t.map((function(t){return Object(f.a)({},t,{id:t.id+n})})).map((function(t){return Object(f.a)({},t,{options:t.options.map((function(t){return t.option}))})})),s=[],c=i.replace(/[\n]/gi,"").split("").map((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A",e=[{ABCD:"A",num:0},{ABCD:"B",num:1},{ABCD:"C",num:2},{ABCD:"D",num:3},{ABCD:"E",num:4}];return e.filter((function(e){return e.ABCD.toUpperCase()===t||e.ABCD.toLowerCase()===t}))[0].num}(t)}));console.log(c);for(var l=0;l<c.length;l++)s[l]=Object(f.a)({},o[l],{databaseSort:r||"\u672a\u5206\u985e",correctAnswer:o[l].options[c[l]]});return console.log(s),s},a.qaPlate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{id:t,question:"",correctAnswer:"",options:[{id:0,choice:"A",option:""},{id:1,choice:"B",option:""},{id:2,choice:"C",option:""},{id:3,choice:"D",option:""}]}},a.state={createQAData:[a.qaPlate()],database:"",lastIdOfOldData:0,answer:"",resultJSON:[{}]},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.createQAData,a=e.answer,i=a.replace(/[\n]/gi,"").length;return s.a.createElement("div",null,s.a.createElement("div",{id:"createQaArea",className:"clearfix"},s.a.createElement(un.a,{id:"createQA.bigTitle",tagName:"h2",values:{someone:"Hellen"}}),s.a.createElement("hr",null),s.a.createElement("div",{className:"createQA-container question"},s.a.createElement("h4",null,"Your Database Name:"),s.a.createElement("input",{type:"text",className:"database-input",onChange:this._handleChangeDatabaseName,value:this.database,placeholder:this.props.intl.formatMessage({id:"createQA.databaseName"})}),s.a.createElement("hr",null),n.map((function(e){return s.a.createElement(gn,{key:"form"+e.id,id:e.id,question:e.question,options:e.options,changeFn:t._handleChange,deleteQuestion:t._handleDeleteQuestion})})),s.a.createElement("button",{onClick:this._handleAddQuestion},s.a.createElement(v.a,{icon:"plus-circle"}))),s.a.createElement("div",{className:"createQA-container answer",ref:function(e){return t.answerContainer=e}},s.a.createElement("h3",null,"Correct Answer"),s.a.createElement("span",null,i,"\u500b\u7b54\u6848"),s.a.createElement("span",null,"("+(i>n.length?"more than ans":i<n.length?"less than ans":"No problem~")),s.a.createElement("textarea",{onChange:this._handleChangeAnswer,value:a})),s.a.createElement("div",{className:"createQA-container"},s.a.createElement("hr",null),s.a.createElement("button",null,s.a.createElement(R,{obj:this.state.resultJSON,clickFn:this._checkAmoutOfQA})),s.a.createElement("button",{onClick:this._resetCreateQA},"Reset QAs"))),s.a.createElement("div",{ref:function(e){return t.bottom=e},style:{width:"100px",height:"20px"}}))}}]),n}(s.a.Component),mn=Object(hn.c)(fn),vn=n(117),yn=n(118),bn=n(121),On=n(25),jn=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).componentWillMount=function(){a.resetTime()},a.componentDidUpdate=function(t,e){t.isStart!==a.props.isStart&&a._handleTimerStartPause(),t.isHandIn!==a.props.isHandIn&&a.resetTime()},a.resetTime=function(){a.setState({time:a.props.time})},a.timerFn=function(){var t=a.props,e=t.time,n=t.overAndCheckAns,i=t.timerStartPause;a.timer=setInterval((function(){a.state.time>0?a.setState({time:a.state.time-1}):(a.setState({isStart:!1,time:e}),i(),n(!0),clearInterval(a.timer)),console.log("timer on")}),1e3)},a._handleTimerStartPause=function(){a.props.isStart?a.timerFn():clearInterval(a.timer)},a.state={isStart:!1,isCountDown:!1,time:3},a.timer=null,a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state.time,e=this.props,n=e.isStart,a=e.timerStartPause,i=e.classes;return s.a.createElement("div",null,s.a.createElement(vn.a,{elevation:1,className:i.paper},s.a.createElement(bn.a,{variant:"contained",color:n?"primary":"default","aria-label":"start",className:i.button,onClick:a},n?"Pause":"Start"),s.a.createElement(yn.a,{className:i.timer,variant:"h4",component:"h3"},T(t)[0]+" : "+T(t)[1])))}}]),n}(s.a.Component),wn=Object(On.a)({button:{display:"inline-block",margin:"0px 10px",verticalAlign:"top"},paper:{width:"300px",padding:"10px",margin:"auto",textAlign:"center"},timer:{display:"inline-block"}})(jn),An={hello:"Hello~",superHello:"Hello, { someone } !",createQA:{bigTitle:"Create Your Own Questions And Answers"},"createQA.bigTitle":"Create Your Own Questions And Answers","createQA.databaseName":'please input your database name, or it will set to "undefined"'},Sn={hello:"\u4f60\u597d!",superHello:"\u4f60\u597d, { someone } !","createQA.bigTitle":"\u5275\u5efa\u4f60\u7684\u984c\u76ee","createQA.databaseName":'\u586b\u5165\u984c\u5eab\u540d\u7a31\uff0c\u5982\u4e0d\u586b\u5247\u9810\u8a2d\u70ba"\u672a\u5206\u985e"'},xn=n(122),Cn=(n(100),n(120)),kn=function(){return s.a.createElement(Cn.a,{className:"test-paper",padding:2,style:{}},"\u9ede\u64caStart \u6216 \u5f9e\u982d\u958b\u59cb\u51fa\u984c")};m.b.add(y.e,y.b,y.a,y.d);var In=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Math.random();e===t;)e=Math.random();return e},Tn=function(t){return t.map((function(t){return Object(f.a)({},t,{checked:t.answer===t.correctAnswer})}))},En=function(t){var e=t.id,n=t.clickFn,a=t.stateOfMode,i=t.btnText,r=void 0===i?"":i,o=t.filterText,c=void 0===o?"":o,l=""===c?e:e.replace(c,"");return s.a.createElement("button",{id:e,style:S(a,l),onClick:n},r)},Bn=function(t){var e=t.testModeState,n=t.testModeFn,a=t.answerModeState,i=t.answerModeFn,r=t.testAmount,o=t.changeAmountFn;return s.a.createElement("div",null,s.a.createElement(En,{id:"all",clickFn:n,stateOfMode:e,btnText:"\u5f9e\u5168\u90e8\u8003\u984c\u96a8\u6a5f\u51fa\u984c"}),s.a.createElement(En,{id:"notSame",clickFn:n,stateOfMode:e,btnText:"\u5f9e\u6c92\u51fa\u904e\u7684\u8003\u984c\u96a8\u6a5f\u51fa\u984c"}),s.a.createElement(En,{id:"star",clickFn:n,stateOfMode:e,btnText:"\u5f9e\u6536\u85cf\u51fa\u984c"}),s.a.createElement("span",null,"   "),s.a.createElement("input",{type:"number",value:r,onChange:o}),s.a.createElement(Cn.a,{paddingY:2},s.a.createElement(En,{id:"answer-single",clickFn:i,stateOfMode:a,btnText:"\u55ae\u984c\u6a21\u5f0f",filterText:"answer-"}),s.a.createElement(En,{id:"answer-all",clickFn:i,stateOfMode:a,btnText:"\u8a66\u5377\u6a21\u5f0f",filterText:"answer-"})))},Nn=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).componentWillMount=function(){ln.ref("nihongo").on("value",(function(t){var e=JSON.parse(localStorage.getItem("starAndNote")),n=t.val();if(e)for(var i=0;i<e.length;i++)n=w(n,e[i].id,"star",e[i].star);var r=n.map((function(t){return{id:t.id,answer:"",correctAnswer:t.correctAnswer,checked:"notYet"}}));a.setState({allTestQA:n,filterAllTestQA:n,myAnswer:r,allTestFilterConditions:k(n.map((function(t){return t.databaseSort||""})))}),console.log(k(n.map((function(t){return t.databaseSort||""}))))})),localStorage.getItem("noteContent")||localStorage.setItem("noteContent",""),localStorage.getItem("coin")||localStorage.setItem("coin",0);var t=1*localStorage.getItem("coin"),e=localStorage.getItem("noteContent");a.setState({noteContent:e,coin:t})},a.setTestRecord=function(){var t=a.state,e=t.testRecord,n=t.testQA,i=t.myAnswer,r=e[e.length-1],o=Tn(i);a.setState({testRecord:[].concat(Object(u.a)(e),[{testId:0===e.length?0:r.testId+1,testDataRecord:{idArr:Object(u.a)(n.map((function(t){return t.id}))),ansArr:Object(u.a)(o)}}])})},a._handleSetCoin=function(t){var e=1*a.state.coin+t;localStorage.setItem("coin",e),a.setState({coin:e})},a._handleChangeAnswerMode=function(t,e){var n=t.target.id.replace("answer-","");a.setState({answerMode:n})},a._handleOpenNote=function(){a.state.isHandIn&&a.setState((function(t){return{viewMyNote:!t.viewMyNote}}))},a._handleChangeNote=function(t){var e=t.target.value;a.setState({noteContent:e}),localStorage.setItem("noteContent",e)},a._handleChangeMode=function(t){var e=t.target.id;e!==a.state.testMode&&a.setState({testMode:e})},a._handleTestPaper=function(){var t=a.state,e=t.testMode,n=t.testAmount,i=t.filterAllTestQA,r=t.myAnswer,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=JSON.parse(localStorage.getItem("starAndNote"))||[{}],i=a||[],r=x(n,i,"id");switch(t){case"star":return A(!0,e,n,!0);case"all":return A(!1,e,n,!0);case"notSame":var o=C(n,r,"id",!0);return console.log(o),A(!1,e,o,!0);default:return A(!1,e,n,!0)}}(e,n,i);a.setState((function(t){return{isHandIn:!1,isStart:!0,time:300,isCheckCorrectAns:!1,keyId:In(t.keyId),testQA:o,myAnswer:r.map((function(t){return Object(f.a)({},t,{answer:"",checked:"notYet"})})),singleAnswerModeState:{index:0,idArr:o.map((function(t){return t.id}))}}}))},a._handleCheckAnswer=function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a.state,i=n.isHandIn,r=(n.testQA,n.myAnswer),o=n.answerMode,s=n.singleAnswerModeState,c=n.testRecord,l=(n.isStart,s.idArr[s.index]);console.log(c.length),i||("all"===o?(t=Tn(r),a.setState({isHandIn:!0,isStart:!1,myAnswer:t}),a.setTestRecord()):"single"===o&&s.index<s.idArr.length&&(t=e?Tn(r):[].concat(Object(u.a)(r.filter((function(t){return t.id!==l}))),[Tn(r.filter((function(t){return t.id===l})))[0]]),a._handleToNextQuestion(e),a.setState({myAnswer:t,isHandIn:e?!i:i})))},a._handleChangeAnswer=function(t){var e=a.state,n=e.myAnswer,i=e.isHandIn,r=t.target,o=r.name,s=r.value;console.log(t.target.getAttribute("answer"));var c=w(n,o,"answer",s);console.log(c),i||a.setState({myAnswer:c})},a._handleChangeAmout=function(t){a.setState({testAmount:t.target.value})},a._handleCheckCorrectAnswer=function(){a.setState((function(t){return{isCheckCorrectAns:!t.isCheckCorrectAns}}))},a._handleToNextQuestion=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=a.state.singleAnswerModeState;setTimeout((function(){var n=t?e.idArr.length:e.index+1;n>e.idArr.length-1?(a.setState({isHandIn:!0,isStart:!1}),a.setTestRecord()):a.setState({singleAnswerModeState:Object(f.a)({},e,{index:n})})}),1e3),console.log(a.state.singleAnswerModeState.index)},a._handleChangeSelectDatabase=function(t){var e=a.state,n=e.nowFIlterCondition,i=e.allTestQA,r=e.filterAllTestQA,o=t.target.value,s=[].concat(Object(u.a)(n),[o]),c=i.filter((function(t){return t.databaseSort===o})),l=0===n.length?c:[].concat(Object(u.a)(r),Object(u.a)(c));-1===n.indexOf(o)&&a.setState((function(t){return{nowFIlterCondition:s,filterAllTestQA:l}}))},a._handleDeleteSelectDatabase=function(t){var e=a.state,n=e.allTestQA,i=e.nowFIlterCondition,r=e.filterAllTestQA,o=t.target.getAttribute("name"),s=i.filter((function(t){return t!==o})),c=r.filter((function(t){return t.databaseSort!==o})),l=0===c.length?n:c;a.setState({nowFIlterCondition:s,filterAllTestQA:l})},a._handleViewTestRecord=function(t){var e=a.state,n=e.allTestQA,i=e.testRecord,r=1*t.target.getAttribute("name"),o=i.filter((function(t){return t.testId===r}))[0];console.log(o),a.setState({answerMode:"all",testQA:C(n,o.testDataRecord.idArr,"id"),myAnswer:o.testDataRecord.ansArr,isHandIn:!0})},a._handleTimerStart=function(){var t=a.state,e=t.isStart,n=t.isHandIn;t.testQA.length>0&&!n&&a.setState({isStart:!e})},a._handleBuying=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=a.state.coin-t;return e>0?(a.setState({coin:e}),!0):(window.alert("money is not enough~"),!1)},a.state={myAnswer:[{}],isHandIn:!1,isCheckCorrectAns:!1,isStart:!1,time:300,coin:0,allTestQA:[],filterAllTestQA:[],testRecord:[],allTestFilterConditions:[],nowFIlterCondition:[],testQA:[],testAmount:10,testMode:"all",answerMode:"single",singleAnswerModeState:{index:0,idArr:[]},keyId:0,viewMyNote:!1,noteContent:""},a.testRecordTemp=[{testId:0,testDataRecord:{idArr:[0],ansArr:[{answer:"A",correctAnswer:""}]}}],a.noteArea=null,a}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.myAnswer,a=e.isHandIn,i=e.testAmount,r=e.keyId,o=e.testQA,c=void 0===o?[]:o,l=e.viewMyNote,u=e.noteContent,h=e.isCheckCorrectAns,d=e.answerMode,p=e.singleAnswerModeState,g=e.testMode,f=e.allTestFilterConditions,m=e.nowFIlterCondition,y=e.testRecord,b=e.isStart,O=e.time,j=e.coin;return s.a.createElement("div",null,s.a.createElement("div",{className:"tab-menu"},s.a.createElement("div",null,s.a.createElement("h3",null,"\u9078\u64c7\u984c\u5eab"),s.a.createElement(W,{allTestFilterConditions:f,nowFIlterCondition:m,changeSelectDatabase:this._handleChangeSelectDatabase,deleteSelectDatabase:this._handleDeleteSelectDatabase}),s.a.createElement(Bn,{testModeState:g,testModeFn:this._handleChangeMode,answerModeState:d,answerModeFn:this._handleChangeAnswerMode,testAmount:i,changeAmountFn:this._handleChangeAmout}),s.a.createElement("button",{onClick:this._handleTestPaper},"\u51fa\u984c\uff01\uff01")),s.a.createElement("div",null,s.a.createElement("button",{onClick:this._handleOpenNote},"\u67e5\u770b\u6211\u7684\u7b46\u8a18")),s.a.createElement("div",null,s.a.createElement("img",{className:"coin-img",src:"https://cdn3.iconfinder.com/data/icons/supermario/PNG/Retro-Coin.png"}),s.a.createElement("span",null," "," X "+j," "))),s.a.createElement("hr",null),s.a.createElement(wn,{time:O,isStart:b,isHandIn:a,timerStartPause:this._handleTimerStart,overAndCheckAns:this._handleCheckAnswer}),s.a.createElement("div",{className:"test-paper-container"},b||a?"single"===d?s.a.createElement(q,{key:r,testQA:c,myAnswer:n,isHandIn:a,isCheckCorrectAns:h,changeAnswer:this._handleChangeAnswer,checkAnswer:this._handleCheckAnswer.bind(this,!1),checkCorrectAnswer:this._handleCheckCorrectAnswer,singleAnswerModeState:p}):s.a.createElement(X,{key:r,testQA:c,myAnswer:n,isHandIn:a,isCheckCorrectAns:h,changeAnswer:this._handleChangeAnswer,checkAnswer:this._handleCheckAnswer,checkCorrectAnswer:this._handleCheckCorrectAnswer}):s.a.createElement(kn,null)),s.a.createElement("div",{className:"test-record-container"},y.map((function(e){return s.a.createElement("div",{onClick:t._handleViewTestRecord,name:e.testId,key:e.testId},"test record "+e.testId)}))),s.a.createElement(mn,{setCoin:this._handleSetCoin,oldData:this.state.allTestQA}),s.a.createElement("div",{id:"myNote",style:{display:l?"block":"none"}},s.a.createElement("h2",null,"My Note",s.a.createElement("span",{className:"back-icon",onClick:this._handleOpenNote},s.a.createElement(v.a,{icon:"arrow-right"}))),s.a.createElement("textarea",{onChange:this._handleChangeNote,placeholder:"write your note here~",value:u,ref:function(e){return t.noteArea=e}})),s.a.createElement("button",{onClick:this.props.changeLang},"Change Lang"))}}]),n}(s.a.PureComponent),Dn=function(t){Object(g.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).chooseLang=function(t){switch(t){case"en":return An;case"zh":return Sn;default:return An}},a._handleChangeLang=function(){a.setState({lang:"en"===a.state.lang?"zh":"en"})},a.state={lang:"zh"},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state.lang;return s.a.createElement(xn.a,{locale:t,key:t,messages:this.chooseLang(t)},s.a.createElement(Nn,{changeLang:this._handleChangeLang}))}}]),n}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Dn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},77:function(t,e,n){t.exports=n(101)}},[[77,1,2]]]);
//# sourceMappingURL=main.45ad0439.chunk.js.map